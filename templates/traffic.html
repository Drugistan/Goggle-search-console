{% extends 'base.html' %}

{% block title %}Traffic Dashboard{% endblock %}

{% block content %}

<style>
  .counts {
    font-size: 20px;
    font-weight: 600
  }
</style>




<div class="right_col" role="main" id="mybody">
  <!-- top tiles -->
  
  <div class="row" style="display: inline-block;">
    <div class="tile_count">

      <div class="col-md-2 col-sm-4  tile_stats_count">
        <span class="count_top"> Search Volume</span>
        <div class="count">200</div>
        <hr>
        <div class="counts">12.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Percentage Change</span>
        <hr>
        <div class="counts">12.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Absolute Change</span>
      </div>

      <div class="col-md-2 col-sm-4  tile_stats_count">
        <span class="count_top"></i> Organic Traffic</span>
        <div class="count">4</div>
        <hr>
        <div class="counts">1.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Percentage Change </span>
        <hr>
        <div class="counts">23.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Absolute Change</span>
      </div>

      <div class="col-md-2 col-sm-4  tile_stats_count">
        <span class="count_top">CTR</span>
        <div class="count" style="color: red;">{{avgCtr}} %</div>
        <hr>
        <div class="counts">10.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Percentage Change</span>
        <hr>
        <div class="counts">2.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Absolute Change</span>
      </div>

      <div class="col-md-2 col-sm-4  tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Average Rank</span>
        <div class="count">0.9 %</div>
        <hr>
        <div class="counts">10.8 % <i class="fa fa-arrow-down" style="color: green;"></i></div>
        <span class="count_bottom"> Percentage Change</span>
        <hr>
        <div class="counts">2.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Absolute Change</span>
      </div>

      <div class="col-md-2 col-sm-4  tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Quries</span>
        <div class="count">222</div>
        <hr>
        <div class="counts">0.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Percentage Change</span>
        <hr>
        <div class="counts">1.8 % <i class="fa fa-arrow-up" style="color: green;"></i></div>
        <span class="count_bottom"> Absolute Change</span>
      </div>

      <div class="col-md-2 col-sm-4  tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Pages</span>
        <div class="count">1</div>
        <hr>
        <div class="counts">0.8 % <i class="fa fa-arrow-down" style="color: green;"></i></div>
        <span class="count_bottom"> Percentage Change</span>
        <hr>
        <div class="counts">1.8 % <i class="fa fa-arrow-down" style="color: green;"></i></div>
        <span class="count_bottom"> Absolute Change</span>
      </div>


    </div>
  </div>
  <!-- /top tiles -->

  <div class="row">
    <div class="col-md-12 col-sm-12 ">
      <div class="dashboard_graph x_panel">
        <div class="x_title">
          <div class="col-md-6">
            <h3>Performance Over Time</h3>
          </div>
          <div class="col-md-6">
            <div id="reportrange" class="pull-right"
              style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
              <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
              <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
            </div>
          </div>
        </div>
        <div class="x_content">
          <div class="demo-container" >
            <canvas id="line-chart"  class="demo-placeholder"></canvas>
            <!-- <div id="myChart" class="demo-placeholder"></div> -->
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row">

    <div class="col-md-8 col-sm-8 ">
      <h4>Performance by Query & Query Type</h4>
      <table class="table">
        <thead class="">
          <tr>
            <th scope="col">Clicks</th>
            <th scope="col">Impression</th>
            <th scope="col">Ctr</th>
            <th scope="col">Postion</th>
          </tr>
        </thead>
        {% for x in  data %}
        <tbody>
          <tr>
            <td>{{x.clicks}}</td>
            <td>{{x.impression}}</td>
            <td>{{x.ctr}}</td>
            <td>{{x.position|slice:"3:2"}}</td>
          </tr>
          
        </tbody>
        {% endfor %}
      </table>

      
    </div>
    


    <div class="col-md-4 col-sm-4 ">
      <div class="x_panel tile fixed_height_320" style="height: 450px;">
        <div class="x_title">
          <h2>Performance <small>By Design </small></h2>
          
          <div class="clearfix"></div>
        </div>
        <div class="x_content">
          <table class="" style="width:100%">
            <tr>
              <th style="width:37%;">
                <p>Top 5</p>
              </th>
              <th>
                <div class="">
                  <p class="">Device</p>
                </div>
               
              </th>
            </tr>
            <tr>
              <td>
                <!-- <canvas class="canvasDoughnut" height="180" width="200" style="margin: 15px 10px 10px 0"></canvas> -->
                <canvas id="progress-chart" height="180" width="200" style="margin-left: 40px;"></canvas>
        </div>
        </td>
        <td>
        
        </td>
        </tr>
        </table>
        <div class="container">
          <div class="row">
            <div class="col-sm">
              <h3>189</h3>
              <p style="font-size: medium; font-weight: bold;">49.1 % </p>
              <p style="font-size: medium;">Desktop </p>
            </div>
            <div class="col-sm">
              <h3>190</h3>
              <p style="font-size: medium; font-weight: bold;">42.1 % </p>
              <p style="font-size: medium;">Mobile </p>
            </div>
            <div class="col-sm">
              <h3>200</h3>
              <p style="font-size: medium; font-weight: bold;">49.1 % </p>
              <p style="font-size: medium;">Tablet </p>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>

  <table class="table table-striped">
    <h2>Performance by Pages</h2>
    <thead>
      <tr>
        <th scope="col">Page</th>
        <th scope="col">Ctr</th>
        <th scope="col">clicks</th>
      </tr>
    </thead>
    {% for x in data  %}
    <tbody>
      <tr>
        <td>https://xtorx.com</td>
        <td>{{x.ctr}}</td>
        <td>{{x.clicks}}</td>
      </tr>
      
    </tbody>
    {% endfor %}
  </table>
</div>  
</div>
</div>
<!-- /page content -->

<!-- footer content -->
{% comment %} <footer>
  <div class="pull-right">
    Gentelella - Bootstrap Admin Template by <a href="#"></a>
  </div>
  <div class="clearfix"></div>
</footer> {% endcomment %}
<!-- /footer content -->
</div>
</div>


<script>
new Chart(document.getElementById("line-chart"), {
  type: 'line',
  data: {
    labels: [10, 20, 30, 40],
    datasets: [{ 
        data: {{impression}},
        label: "Traffic",
        borderColor: "#3e95cd",
      }, { 
        data: {{clicks}},
        label: "impression",
        borderColor: "#8e5ea2",
        fill: false
      }, 
    ]
  },
  options: {
    title: {
      display: true,
      text: 'Traffic For Site'
    }
    
    
  }
})
</script>







{% endblock %}